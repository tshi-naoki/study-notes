# 8种基本数据类型

Java中有8种基本数据类型分为三大类。

## 字符型

char

## 布尔型

boolean

## 数值型

- 整型 byte、short、int、long
- 浮点型 float、double

**String不是基本数据类型，是引用类型**

# 整型中的byte、short、int、long的取值范围

Java中的整型主要包含byte、short、int和long这四种，表示的数字范围也是从小到大的，之所以表示范围不同主要和他们存储数据时所占的字节数有关。

先来个简单的科普，1字节=8位（bit）。java中的整型属于有符号数。所以就需要有一个符号位作为正负号的表示。

先来看计算中8bit可以表示的数字： 最小值：10000000 （-128）(-2^7) 最大值：01111111（127）(2^7-1) 。

## Java byte最大值最小值问题

也就是一个字节=8bit=byte的最大值最小值问题

### 计算机编码

#### 原码、反码和补码

在计算机内，定点数有3种表示法：原码、反码和补码。

原码：就是二进制定点表示法，即最高位为符号位，“0”表示正，“1”表示负，其余位表示数值的大小。

反码：表示法规定：正数的反码与其原码相同；负数的反码是对**其原码逐位取反，但符号位除外**。

补码：表示法规定：正数的补码与其原码相同；负数的补码是在其反码的末位加1。

原码、反码不能直接进行数值计算。

#### 计算机数值存储

在计算机中，数值均已补码形式存储。

### 计算步骤

仅以byte为例进行阐述，byte为一字节8位，最高位是符号位。

最大值是01111111(补码)，补码即原码：

最大值为：2^0+2^1+2^2+2^3+2^4+2^5+2^6=(1-2)2^7/(1-2)=2^7-1=127

最小值是10000000(补码)，首先计算反码(补码-1)：01111111，然后计算原码：10000000，最大值为：-2^7=-128

## 取值范围

- byte：byte用1个字节来存储，范围为-128(-2^7)到127(2^7-1)，在变量初始化的时候，byte类型的默认值为0。
- short：short用2个字节存储，范围为-32,768 (-2^15)到32,767 (2^15-1)，在变量初始化的时候，short类型的默认值为0，一般情况下，因为Java本身转型的原因，可以直接写为0。
- int：int用4个字节存储，范围为-2,147,483,648 (-2^31)到2,147,483,647 (2^31-1)，在变量初始化的时候，int类型的默认值为0。
- long：long用8个字节存储，范围为-9,223,372,036,854,775,808 (-2^63)到9,223,372,036, 854,775,807 (2^63-1)，在变量初始化的时候，long类型的默认值为0L或0l，也可直接写为0。

### byte类型的最小值为什么是-128而非-127，其他类型的同理

补码里面还有一个没有用。它就是10000000B，正负零在补码里面是不存在的，所以拿10000000B表示-128

这个没法转成原码反码了，直接规定10000000B这个补码对应的是-128。这就是神奇的-128的来源

计算机中1byte=8bit，因此byte的最大正数为二进制的01111111 = 27-1 = 127 （0位符号位），这个没问题，

对于负数而言，其补码由于需要反码加1， 对于11111111其补码就是10000001=-1，依次类推11111110补码为10000010=-2........一直到10000001补码为11111111=-127，**接下来最大的负数为10000000十进制其实是-0 ，其实是没有意义的（与+0重复），计算机就将这一数值10000000表示为最大负数-128**

## 溢出

整型在计算的时候有可能会导致溢出，超出范围

### 例子

代码

```java
int i = Integer.MAX_VALUE;
int j = Integer.MAX_VALUE;

int k = i + j;
System.out.println("i (" + i + ") + j (" + j + ") = k (" + k + ")");
```

输出

```java
i (2147483647) + j (2147483647) = k (-2)
```

溢出的时候并不会抛异常，也没有任何提示。所以，在程序中，使用同类型的数据进行运算的时候，一定要注意数据溢出的问题。

# 什么是浮点型

计算机使用浮点数运算的主因是：在于电脑使用二进制位的运算，例如：4÷2=2，4的二进制表示为100、2的二进制表示为010，在二进制中，相当于退一位数(100 -> 010)

1的二进制是01，1.0/2=0.5，那么，0.5的二进制表示应该为(0.1)，以此类推，0.25的二进制表示为0.01，所以，并不是说所有的十进制小数都能准确的用二进制表示出来，如0.1，因此只能使用近似值的方式表达。

也就是说：十进制的小数在计算机中是由一个整数或定点数（即尾数）乘以某个基数（计算机中通常是2）的整数次幂得到的，这种表示方法类似于基数为10的科学计算法

一个浮点数a由两个数m和e来表示：a = m × be。在任意一个这样的系统中，我们选择一个基数b（记数系统的基）和精度p（即使用多少位来存储）。m（即尾数）是形如±d.ddd...ddd的p位数（每一位是一个介于0到b-1之间的整数，包括0和b-1）。如果m的第一位是非0整数，m称作正规化的。有一些描述使用一个单独的符号位（s 代表+或者-）来表示正负，这样m必须是正的。e是指数。

位（bit）是衡量浮点数所需存储空间的单位，通常为32位或64位，分别被叫作单精度和双精度。

# 什么是单精度和双精度

单精度浮点数在计算机存储器中占用4个字节（32 bits），利用“浮点”（浮动小数点）的方法，可以表示一个范围很大的数值。

比起单精度浮点数，双精度浮点数(double)使用 64 位（8字节） 来存储一个浮点数。

# 为什么不能用 浮点数表示金额

由于计算机中保存的小数其实是十进制的小数的近似值，并不是准确值，所以，千万不要在代码中使用浮点数来表示金额等重要的指标。

建议使用BigDecimal或者Long（单位为分）来表示金额。